{% extends 'base.html' %}
{% load mathfilters %}
{% load static %}

{% block content %}
    <div class='row mt-4'>
        <div class='col-12'>
            <div class='carousel slide' id='carousel' data-ride='carousel'>
                <ol class='carousel-indicators'>
                    <li data-target='#carousel' data-slide-to='0' class='active'></li>
                    <li data-target='#carousel' data-slide-to='1'></li>
                    <li data-target='#carousel' data-slide-to='2'></li>
                </ol>
                <div class='carousel-inner'>
                    <div class='carousel-item active'>
                        <img class='d-block w-100' src='{% static 'images/banner.jpg' %}' alt='First slide'>
                    </div>
                    <div class='carousel-item'>
                        <img class='d-block w-100' src='{% static 'images/banner.jpg' %}' alt='Second slide'>
                    </div>
                    <div class='carousel-item'>
                        <img class='d-block w-100' src='{% static 'images/banner.jpg' %}' alt='Third slide'>
                    </div>
                </div>
            </div>

            <!-- Store List -->
            <div class='row col mt-4'>
                <h4>Latest Arrival</h4>
            </div>

            {% for prod in products %}
                {% ifequal forloop.counter0|mod:4 0 %}
                    <div class='row mt-4'>
                {% endifequal %}
                        <div class='col-3'>
                            <a class='text-dark' href='{% url 'product' prod.name %}'>
                                <img class='d-block w-100' src='{% static prod.get_image_path %}' id='{{ prod.name }}' alt='Dog Cloth'>
                                <form method='POST' action='{% url 'add' %}'>
                                    {% csrf_token %}
                                    <input name='prod_id' value='{{ prod.id }}' aria-label='id' hidden>
                                    <input class='form-control ml-2' id='quantity' name='quantity' type='number' min='1' value='1' aria-label='quantity' hidden>
                                    <label class='card-link' for='{{ prod.name }}'>{{ prod.name }}<br/>${{ prod.price|floatformat:2 }} |
                                        <button class='px-0 btn btn-default card-link' onclick='this.form.submit()'><i class='fa fa-shopping-cart'></i> Add to Cart</button>
                                    </label>
                                </form>
                            </a>
                        </div>
                {% ifequal forloop.counter0|mod:4 3 %}
                    </div>
                {% endifequal %}
                {% ifnotequal forloop.counter0|mod:4 3 %}
                {% ifequal products|length forloop.counter %}
                        </div>
                    </div>
                {% endifequal %}
                {% endifnotequal %}
            {% endfor %}
        </div>

        <!-- Side Bar >
        <div class='col-3'>
            <div class='card border-0 shadow mb-5'>
                <div class='card-header card-title'><i class='fa fa-hashtag'></i> Tags</div>
                <div class='card-body'>
                    {% for tag in tags %}
                        <p><a href='{% url 'products' tag %}'>{{ tag }}</a></p>
                    {% endfor %}
                </div>
            </div>

            <div class='card border-0 shadow my-5'>

            </div>
        </div-->

        <div class='col-12'>
            <div class='card mt-4'>
                <div class='card-header card-title w-100'>Other Prdoducts</div>
                <div class='card-body'>
                    <div class='carousel slide' id='other-product' data-ride='carousel'>
                        <div class='carousel-inner'>
                            {% for prod in products %}
                                {% ifequal forloop.counter0|mod:4 0 %}
                                    <div class='carousel-item active'>
                                        <div class='row mx-0 mt-2'>
                                {% endifequal %}
                                            <div class='col-3'>
                                                <img class='d-block w-100' src='{% static prod.get_image_path %}' id='{{ prod.name }}' alt='Dog Cloth'>
                                                <form method='POST' action='{% url 'add' %}'>
                                                    {% csrf_token %}
                                                    <input name='prod_id' value='{{ prod.id }}' aria-label='id' hidden>
                                                    <input class='form-control ml-2' id='quantity' name='quantity' type='number' min='1' value='1' aria-label='quantity' hidden>
                                                    <label class='card-link' for='{{ prod.name }}'>{{ prod.name }}<br/>${{ prod.price|floatformat:2 }} |
                                                        <button class='px-0 btn btn-default card-link' onclick='this.form.submit()'><i class='fa fa-shopping-cart'></i> Add to Cart</button>
                                                    </label>
                                                </form>
                                            </div>
                                {% ifequal forloop.counter0|mod:4 3 %}
                                        </div>
                                    </div>
                                {% endifequal %}
                                {% ifnotequal forloop.counter0|mod:4 3 %}
                                {% ifequal products|length forloop.counter %}
                                        </div>
                                    </div>
                                {% endifequal %}
                                {% endifnotequal %}
                            {% endfor %}
                        </div>
                    </div>
                    <a class='carousel-control-prev arrow-pad' href='#other-product' role='button' data-slide='prev'>
                        <span class='carousel-control-prev-icon arrow-prev-btn' aria-hidden='true'></span>
                        <span class='sr-only'>Previous</span>
                    </a>
                    <a class='carousel-control-next arrow-pad' href='#other-product' role='button' data-slide='next'>
                        <span class='carousel-control-next-icon arrow-next-btn' aria-hidden='true'></span>
                        <span class='sr-only'>Next</span>
                    </a>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block script %}
{% endblock %}